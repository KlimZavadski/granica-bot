# UI Flow Documentation

## ะะพััะพัะฝะฝะพะต ะผะตะฝั

ะะพั ะธัะฟะพะปัะทัะตั ะฟะพััะพัะฝะฝะพะต ะผะตะฝั (persistent keyboard) ะบะพัะพัะพะต ะฒัะตะณะดะฐ ะพัะพะฑัะฐะถะฐะตััั ะฒะฝะธะทั ัะบัะฐะฝะฐ.

### ะะตะฝั ะฑะตะท ะฐะบัะธะฒะฝะพะน ะฟะพะตะทะดะบะธ:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  ๐ ะะพะฒะฐั ะฟะพะตะทะดะบะฐ       โ
โโโโโโโโโโโโโโฌโโโโโโโโโโโโโค
โ ๐ ะกัะฐัะธััะธะบะฐ           โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

### ะะตะฝั ั ะฐะบัะธะฒะฝะพะน ะฟะพะตะทะดะบะพะน:

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ  โฐ ะะฒะตััะธ ะฒัะตะผั        โ
โโโโโโโโโโโโโโฌโโโโโโโโโโโโโค
โ ๐ ะกัะฐัะธััะธะบะฐ โ โ ะัะผะตะฝะธััโ
โ                โ ะฟะพะตะทะดะบั  โ
โโโโโโโโโโโโโโดโโโโโโโโโโโโโ
```

---

## ะัะฝะพะฒะฝัะต ะฟะพัะพะบะธ

### 1. ะะฐัะฐะปะพ ะฝะพะฒะพะน ะฟะพะตะทะดะบะธ

```
/start โ ะัะธะฒะตัััะฒะธะต + ะผะตะฝั
โ
๐ ะะพะฒะฐั ะฟะพะตะทะดะบะฐ โ ะัะฑะพั ะฟะตัะตะฒะพะทัะธะบะฐ
โ
FlixBus/Ecolines/... โ ะะฐะปะตะฝะดะฐัั (ะฒัะฑะพั ะดะฐัั)
โ
[29] โ ะัะฑะพั ะฒัะตะผะตะฝะธ (inline ะบะฝะพะฟะบะธ 06:00-23:00)
โ
14:30 โ โ ะะพะตะทะดะบะฐ ัะพะทะดะฐะฝะฐ + ะผะตะฝั ั ะฐะบัะธะฒะฝะพะน ะฟะพะตะทะดะบะพะน
```

### 2. ะะฒะพะด ะบะพะฝััะพะปัะฝัั ัะพัะตะบ

```
โฐ ะะฒะตััะธ ะฒัะตะผั โ ะะพะบะฐะท ัะตะบััะตะน ะบะพะฝััะพะปัะฝะพะน ัะพัะบะธ
โ
โฐ ะกะตะนัะฐั ะะะ ะงะง:ะะ โ ะกะพััะฐะฝะตะฝะธะต ะฒัะตะผะตะฝะธ
โ
ะกะปะตะดัััะฐั ะบะพะฝััะพะปัะฝะฐั ัะพัะบะฐ (ะฟะพะฒัะพั)
โ
ะะพัะปะต 7 ัะพัะตะบ โ ะัะพะณะธ ะฟะพะตะทะดะบะธ + ะผะตะฝั ะฑะตะท ะฐะบัะธะฒะฝะพะน ะฟะพะตะทะดะบะธ
```

### 3. ะัะผะตะฝะฐ ะฟะพะตะทะดะบะธ

```
โ ะัะผะตะฝะธัั ะฟะพะตะทะดะบั โ ะะพะดัะฒะตัะถะดะตะฝะธะต (inline ะบะฝะพะฟะบะธ)
โ
โ ะะฐ, ะพัะผะตะฝะธัั โ ะะพะตะทะดะบะฐ ะพัะผะตะฝะตะฝะฐ + ะผะตะฝั ะฑะตะท ะฐะบัะธะฒะฝะพะน ะฟะพะตะทะดะบะธ
ะะะ
โ ะะตั, ะฟัะพะดะพะปะถะธัั โ ะะพะทะฒัะฐั ะบ ัะตะบััะตะน ะบะพะฝััะพะปัะฝะพะน ัะพัะบะต
```

### 4. ะัะพัะผะพัั ััะฐัะธััะธะบะธ

```
๐ ะกัะฐัะธััะธะบะฐ โ ะะพะบะฐะท ะฟะพัะปะตะดะฝะธั 5 ะฟะพะตะทะดะพะบ
(ะะตะฝั ะพััะฐัััั ะฟัะตะถะฝะธะผ)
```

---

## ะะฑัะฐะฑะพัะบะฐ ะพัะธะฑะพะบ

### ะะพะฟััะบะฐ ะฝะฐัะฐัั ะฝะพะฒัั ะฟะพะตะทะดะบั ะฟัะธ ะฝะฐะปะธัะธะธ ะฐะบัะธะฒะฝะพะน:

```
๐ ะะพะฒะฐั ะฟะพะตะทะดะบะฐ (ะธะปะธ /new)
โ
โ๏ธ ะฃ ะฒะฐั ัะถะต ะตััั ะฐะบัะธะฒะฝะฐั ะฟะพะตะทะดะบะฐ
ะัะฟะพะปัะทัะนัะต 'โฐ ะะฒะตััะธ ะฒัะตะผั' ััะพะฑั ะฟัะพะดะพะปะถะธัั
ะธะปะธ 'โ ะัะผะตะฝะธัั ะฟะพะตะทะดะบั' ััะพะฑั ะฝะฐัะฐัั ะฝะพะฒัั
```

### ะะพะฟััะบะฐ ะฒะฒะตััะธ ะฒัะตะผั ะฑะตะท ะฐะบัะธะฒะฝะพะน ะฟะพะตะทะดะบะธ:

```
โฐ ะะฒะตััะธ ะฒัะตะผั
โ
ะฃ ะฒะฐั ะฝะตั ะฐะบัะธะฒะฝะพะน ะฟะพะตะทะดะบะธ
ะัะฟะพะปัะทัะนัะต '๐ ะะพะฒะฐั ะฟะพะตะทะดะบะฐ' ััะพะฑั ะฝะฐัะฐัั
```

---

## Inline ัะปะตะผะตะฝัั

### ะะฐะปะตะฝะดะฐัั:

- **ะกัััะบัััะฐ**: ะะตััั/ะะพะด ะฒ ัะฐะฟะบะต, ัััะตะปะบะธ < >, ะดะฝะธ ะฝะตะดะตะปะธ, ัะธัะปะฐ
- **ะกะตะณะพะดะฝั**: ะัะดะตะปะตะฝะพ ะบะฒะฐะดัะฐัะฝัะผะธ ัะบะพะฑะบะฐะผะธ `[29]`
- **ะะฝะพะฟะบะธ ะฝะฐะฒะธะณะฐัะธะธ**: `<` (ะฟัะตะดัะดััะธะน ะผะตััั), `>` (ัะปะตะดัััะธะน ะผะตััั)
- **ะัะผะตะฝะฐ**: `โ ะัะผะตะฝะฐ`

### ะัะฑะพั ะฒัะตะผะตะฝะธ:

- **ะะฐัะธะฐะฝัั**: 06:00, 07:00, ..., 23:00 (3 ะบะฝะพะฟะบะธ ะฒ ััะด)
- **ะััะฝะพะน ะฒะฒะพะด**: `โ๏ธ ะะฒะตััะธ ัะฒะพะต ะฒัะตะผั`

### ะะพะดัะฒะตัะถะดะตะฝะธะต ะพัะผะตะฝั:

- **ะะฝะพะฟะบะธ**: `โ ะะฐ, ะพัะผะตะฝะธัั` | `โ ะะตั, ะฟัะพะดะพะปะถะธัั`

---

## ะะฐะถะฝัะต ะพัะพะฑะตะฝะฝะพััะธ

1. **Persistent menu** - ะะตะฝั ะฒัะตะณะดะฐ ะฒะธะดะฝะพ ะธ ะฐะดะฐะฟัะธััะตััั ะบ ะบะพะฝัะตะบััั
2. **Inline confirmations** - ะัะธัะธัะฝัะต ะดะตะนััะฒะธั ััะตะฑััั ะฟะพะดัะฒะตัะถะดะตะฝะธั
3. **ะะพะฝัะตะบััะฝะฐั ะฟะพะผะพัั** - ะะตะฝั ะฟะพะดัะบะฐะทัะฒะฐะตั ะดะพัััะฟะฝัะต ะดะตะนััะฒะธั
4. **Graceful errors** - ะัะธะฑะบะธ ะพะฑัััะฝััั ััะพ ะฝะต ัะฐะบ ะธ ะบะฐะบ ะธัะฟัะฐะฒะธัั
5. **No dead ends** - ะัะตะณะดะฐ ะตััั ัะฟะพัะพะฑ ะฟัะพะดะพะปะถะธัั ะธะปะธ ะฒะตัะฝััััั

---

## ะขะตะบััะพะฒัะต ะบะพะผะฐะฝะดั ะธ ะบะฝะพะฟะบะธ

| ะะพะผะฐะฝะดะฐ | ะะฝะพะฟะบะฐ | ะะฟะธัะฐะฝะธะต |
|---------|--------|----------|
| `/start` | - | ะัะธะฒะตัััะฒะธะต ะธ ะฟะพะบะฐะท ะผะตะฝั |
| `/new` | ๐ ะะพะฒะฐั ะฟะพะตะทะดะบะฐ | ะะฐัะฐัั ะฝะพะฒัั ะฟะพะตะทะดะบั |
| `/stats` | ๐ ะกัะฐัะธััะธะบะฐ | ะะพะบะฐะทะฐัั ััะฐัะธััะธะบั |
| `/cancel` | โ ะัะผะตะฝะธัั ะฟะพะตะทะดะบั | ะัะผะตะฝะธัั ัะตะบัััั ะฟะพะตะทะดะบั |
| - | โฐ ะะฒะตััะธ ะฒัะตะผั | ะัะพะดะพะปะถะธัั ะฒะฒะพะด ะฒัะตะผะตะฝะธ |

ะัะต ะบะฝะพะฟะบะธ ัะฐะฑะพัะฐัั ะบะฐะบ ะบะพะผะฐะฝะดั - ะผะพะถะฝะพ ะธัะฟะพะปัะทะพะฒะฐัั ะธ ัะพ, ะธ ะดััะณะพะต!

---

## FSM States

```
None โ ะะตั ะฐะบัะธะฒะฝะพะน ะฟะพะตะทะดะบะธ
  โ /new
choosing_carrier โ ะัะฑะพั ะฟะตัะตะฒะพะทัะธะบะฐ
  โ
entering_departure_date โ ะัะฑะพั ะดะฐัั ัะตัะตะท ะบะฐะปะตะฝะดะฐัั
  โ
entering_departure_time โ ะัะฑะพั ะฒัะตะผะตะฝะธ
  โ
checkpoint_approaching_border โ ะขะพัะบะฐ 1/7
checkpoint_entering_1 โ ะขะพัะบะฐ 2/7
checkpoint_passport_1 โ ะขะพัะบะฐ 3/7
checkpoint_leaving_1 โ ะขะพัะบะฐ 4/7
checkpoint_entering_2 โ ะขะพัะบะฐ 5/7
checkpoint_passport_2 โ ะขะพัะบะฐ 6/7
checkpoint_leaving_2 โ ะขะพัะบะฐ 7/7
  โ
journey_summary โ ะัะพะณะธ + None state
```

---

## UX ะฟัะธะฝัะธะฟั

1. **Always visible menu** - ะะพะปัะทะพะฒะฐัะตะปั ะฒัะตะณะดะฐ ะฒะธะดะธั ััะพ ะผะพะถะฝะพ ัะดะตะปะฐัั
2. **Confirm destructive actions** - ะัะผะตะฝะฐ ััะตะฑัะตั ะฟะพะดัะฒะตัะถะดะตะฝะธั
3. **Clear current state** - ะัะตะณะดะฐ ะฟะพะฝััะฝะพ ะฝะฐ ะบะฐะบะพะผ ััะฐะฟะต ะฝะฐัะพะดะธัััั
4. **Easy to recover** - ะะพะถะฝะพ ะฒะตัะฝััััั ะบ ะฒะฒะพะดั ะฒัะตะผะตะฝะธ ะฒ ะปัะฑะพะน ะผะพะผะตะฝั
5. **Contextual help** - ะกะพะพะฑัะตะฝะธั ัะพะดะตัะถะฐั ะฟะพะดัะบะฐะทะบะธ ะบะฐะบ ะดะตะนััะฒะพะฒะฐัั ะดะฐะปััะต

